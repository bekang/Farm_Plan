import{c as g,u as D,j as e,C as f,S as E,a as T,b as C,d as $,r as N,e as O,f as B,F as P,P as W,B as z,M as R,T as I,g as H,W as G}from"./index-AXO9J3iA.js";const V=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],q=g("droplets",V);const K=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],U=g("map",K);const Y=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],J=g("pen-line",Y);const Q=[["path",{d:"M7 18v-6a5 5 0 1 1 10 0v6",key:"pcx96s"}],["path",{d:"M5 21a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2z",key:"1b4s83"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]],X=g("siren",Q),Z={seoul:{lat:37.5665,lng:126.978},busan:{lat:35.1796,lng:129.0756},daegu:{lat:35.8714,lng:128.6014},incheon:{lat:37.4563,lng:126.7052},gwangju:{lat:35.1595,lng:126.8526},daejeon:{lat:36.3504,lng:127.3845},ulsan:{lat:35.5384,lng:129.3114},sejong:{lat:36.48,lng:127.289},gyeonggi:{lat:37.4138,lng:127.5183},gangwon:{lat:37.8228,lng:128.1555},chungbuk:{lat:36.635,lng:127.4914},chungnam:{lat:36.6588,lng:126.6728},jeonbuk:{lat:35.7175,lng:127.153},jeonnam:{lat:34.8679,lng:126.991},gyeongbuk:{lat:36.576,lng:128.5056},gyeongnam:{lat:35.2383,lng:128.6922},jeju:{lat:33.4996,lng:126.5312}},ee={lat:36.5,lng:127.5};function se({province:a}){const n=Z[a]||ee,{data:t,isLoading:o,isError:m}=D(n.lat,n.lng);if(o)return e.jsx("div",{className:"text-xs text-slate-400",children:"ë‚ ì”¨ ë¡œë”© ì¤‘..."});if(m||!t)return e.jsx("div",{className:"text-xs text-slate-400",children:"-"});const d=(l,h)=>l==="1"||l==="4"?e.jsx(f,{className:"h-6 w-6 text-blue-500"}):l==="3"?e.jsx(E,{className:"h-6 w-6 text-cyan-400"}):l==="2"?e.jsx(f,{className:"h-6 w-6 text-purple-400"}):h==="3"||h==="4"?e.jsx(T,{className:"h-6 w-6 text-slate-400"}):e.jsx(C,{className:"h-6 w-6 text-orange-500 animate-pulse"});return e.jsxs("div",{className:"flex flex-col items-end justify-center min-w-[80px]",children:[e.jsxs("div",{className:"flex items-center gap-1.5 bg-white/60 px-2 py-1 rounded-lg border border-slate-100 shadow-sm",children:[e.jsxs("span",{className:"text-lg font-bold text-slate-800 tracking-tighter",children:[t.tmp,"Â°"]}),d(t.pty,t.sky)]}),e.jsxs("div",{className:"mt-1 flex items-center justify-end gap-2 text-[10px] font-medium text-slate-500",children:[e.jsx("span",{children:t.pty!=="0"?"ë¹„/ëˆˆ":t.sky==="1"?"ë§‘ìŒ":"íë¦¼"}),e.jsxs("div",{className:"flex items-center gap-0.5 text-slate-400",children:[e.jsx(q,{className:"h-2.5 w-2.5"}),e.jsxs("span",{children:[t.reh,"%"]})]})]})]})}const te={open_field:"ë…¸ì§€ (Open Field)",noji:"ë…¸ì§€ (Open Field)",vinyl_single:"ë‹¨ë™í˜• ë¹„ë‹í•˜ìš°ìŠ¤",vinyl_multi:"ì—°ë™í˜• ë¹„ë‹í•˜ìš°ìŠ¤",vinyl_greenhouse:"ë³µí•© ë¹„ë‹ ì˜¨ì‹¤",glass_greenhouse:"ìœ ë¦¬ ì˜¨ì‹¤"},ae={soil:"í† ê²½ ì¬ë°°",pot:"í™”ë¶„/í¬íŠ¸ ì¬ë°°",substrate:"ê³ í˜• ë°°ì§€ ê²½ì‘",dft:"ë‹´ì•¡ ìˆ˜ê²½ (DFT)",nft:"ë°•ë§‰ ìˆ˜ê²½ (NFT)",aeroponics:"ë¶„ë¬´ ìˆ˜ê²½ (Aeroponics)",hydroponics:"ì¼ë°˜ ìˆ˜ê²½"},ne={sandy:"ì‚¬ì§ˆí† ",loam:"ì–‘í† ",clay:"ì ì§ˆí† ",commercial:"ì‹œíŒ ìƒí† ",diy_mix:"ìê°€ ì œì¡° ìƒí† ",cocopeat_mix:"ì½”ì½”í”¼íŠ¸ í˜¼í•©",perlite_mix:"í„ë¼ì´íŠ¸ í˜¼í•©",cocopeat:"ì½”ì½”í”¼íŠ¸",rockwool:"ì•”ë©´",perlite:"í„ë¼ì´íŠ¸",smoked_rice_hull:"í›ˆíƒ„",sponge:"ìŠ¤í€ì§€",rockwool_cube:"ì•”ë©´ íë¸Œ",urethane:"ìš°ë ˆíƒ„",clay_ball:"í™©í† ë³¼"},j={seoul:"ê´€ì‹¬: ë¯¸êµ­ì„ ë…€ë²Œë ˆ",busan:"ì£¼ì˜: ë²¼ë©¸êµ¬",daegu:"ì˜ˆë³´ ì—†ìŒ",incheon:"ê´€ì‹¬: ê½ƒë§¤ë¯¸",gwangju:"ì£¼ì˜: ë¨¹ë…¸ë¦°ì¬",daejeon:"ì˜ˆë³´ ì—†ìŒ",ulsan:"ì˜ˆë³´ ì—†ìŒ",sejong:"ê´€ì‹¬: ë³µìˆ­ì•„ìˆœë‚˜ë°©",gyeonggi:"ê²½ë³´: ê°ˆìƒ‰ë‚ ê°œë§¤ë¯¸ì¶©",gangwon:"ì£¼ì˜: ë„ì—´ë³‘",chungbuk:"ê´€ì‹¬: ë‹´ë°°ë‚˜ë°©",chungnam:"ì£¼ì˜: ë²¼ë©¸êµ¬",jeonbuk:"ê²½ë³´: íƒ„ì €ë³‘",jeonnam:"ê²½ë³´: ë²¼ë©¸êµ¬",gyeongbuk:"ì£¼ì˜: ë…¸ê· ë³‘",gyeongnam:"ê´€ì‹¬: í°ê°€ë£¨ë³‘",jeju:"ì£¼ì˜: ê°ê·¤ ë…¹ì‘ì• "},y={gangwon:{type:"warning",title:"ëŒ€ì„¤ ê²½ë³´"},jeonnam:{type:"watch",title:"í˜¸ìš° ì£¼ì˜ë³´"},jeju:{type:"watch",title:"ê°•í’ ì£¼ì˜ë³´"}},w={getPestForecast:a=>{const n=Object.keys(j).find(t=>a.includes(t)||t.includes(a))||"default";return j[n]||"ì˜ˆë³´: íŠ¹ì´ì‚¬í•­ ì—†ìŒ"},getWeatherAlert:a=>{const n=Object.keys(y).find(t=>a.includes(t)||t.includes(a));return y[n]||null}},re=()=>{const a=$(),[n,t]=N.useState("list"),[o,m]=N.useState(void 0),{data:d=[]}=O(),{addField:l,deleteField:h}=B(),p=s=>{m(s),t("detail")},k=s=>{const r={...o,...s};l.mutate(r,{onSuccess:()=>{alert("ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤."),u()}})},_=s=>{h.mutate(String(s),{onSuccess:()=>{alert("ë†ì§€ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.")},onError:r=>{alert("ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤."),console.error(r)}})},u=()=>{m(void 0),t("list")};return n==="detail"&&o?e.jsxs("div",{className:"mx-auto max-w-7xl p-4 duration-300 animate-in fade-in",children:[e.jsx("div",{className:"mb-4",children:e.jsx("button",{onClick:u,className:"text-sm text-stone-500 hover:underline",children:"â† ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°"})}),e.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[e.jsx("h2",{className:"mb-6 border-b pb-4 text-2xl font-bold text-stone-800",children:"ë†ì§€ ì •ë³´ ìˆ˜ì •"}),e.jsx(P,{initialData:o,existingFields:d,onSubmit:k,onCancel:u,submitLabel:"ìˆ˜ì •ì‚¬í•­ ì €ì¥"})]})]}):e.jsxs("div",{className:"mx-auto max-w-7xl space-y-6 p-4 duration-500 animate-in fade-in",children:[e.jsxs("div",{className:"flex flex-col justify-between gap-4 rounded-2xl border border-stone-100 bg-white p-6 shadow-sm md:flex-row md:items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-stone-800",children:"ë‚´ ë†ì§€ ê´€ë¦¬ (ì‹œìŠ¤í…œ ì •ìƒí™” v2.1)"}),e.jsx("p",{className:"mt-1 text-stone-500",children:"ë“±ë¡ëœ ë†ì§€ì˜ ìƒì„¸ ì •ë³´ì™€ í™˜ê²½ ë°ì´í„°ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤."})]}),e.jsxs("button",{onClick:()=>a("/dashboard/farm-registration"),className:"flex transform items-center justify-center gap-2 rounded-xl bg-green-600 px-5 py-2.5 font-bold text-white shadow-lg shadow-green-200 transition-all hover:-translate-y-0.5 hover:bg-green-700 hover:shadow-green-300",children:[e.jsx(W,{className:"h-5 w-5"}),"ìƒˆ ë†ì§€ ë“±ë¡"]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[d.map(s=>{const r=s.address?.province&&Object.keys(j).find(x=>s.address.province.includes(x))||"",b=w.getWeatherAlert(r),v=w.getPestForecast(r),i=b?.type==="warning",c=b?.type==="watch",M=i||c,S=i?"border-red-300 ring-1 ring-red-100":c?"border-amber-300 ring-1 ring-amber-100":"border-slate-200",F=i?"hover:shadow-red-100 hover:border-red-400":c?"hover:shadow-amber-100 hover:border-amber-400":"hover:border-green-300 hover:ring-1 hover:ring-emerald-400",A=i?"bg-red-50":c?"bg-amber-50":"bg-gradient-to-br from-emerald-50 to-teal-50/50",L=i?"border-red-100":c?"border-amber-100":"border-emerald-100";return e.jsxs("div",{className:`group relative flex flex-col justify-between overflow-hidden rounded-2xl border bg-white shadow-sm transition-all duration-300 hover:-translate-y-1 hover:shadow-xl ${S} ${F}`,children:[e.jsxs("div",{className:`relative border-b p-5 ${A} ${L}`,children:[e.jsxs("div",{onClick:()=>p(s),className:"cursor-pointer",children:[M&&e.jsxs("div",{className:`mb-3 flex items-center gap-2 rounded-lg p-3 ${i?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"} animate-pulse`,children:[e.jsx(X,{className:"h-5 w-5 flex-shrink-0"}),e.jsxs("span",{className:"font-bold text-sm",children:["[ê¸°ìƒíŠ¹ë³´] ",b?.title]})]}),e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[e.jsx("h3",{className:"truncate text-xl font-bold text-slate-800 tracking-tight",children:s.name}),e.jsxs("div",{className:"mt-1 flex items-center gap-1.5 text-xs font-medium text-slate-600",children:[e.jsx(z,{className:`h-3.5 w-3.5 ${v.includes("ê²½ë³´")?"text-red-500":"text-green-600"}`}),e.jsx("span",{className:"truncate",children:v})]})]}),e.jsx("div",{className:"flex-shrink-0 pl-2",children:e.jsx(se,{province:s.address?.province||""})})]}),e.jsxs("div",{className:"mt-3 flex items-center gap-1 text-sm font-medium text-slate-500",children:[e.jsx(R,{className:"h-3.5 w-3.5 flex-shrink-0 text-slate-400"}),e.jsx("span",{className:"truncate",children:s.location||(s.address?`${s.address.province} ${s.address.city} ${s.address.town}`:"ìœ„ì¹˜ ë¯¸ì§€ì •")})]})]}),e.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 transition-all duration-200 group-hover:opacity-100 translate-x-2 group-hover:translate-x-0 z-50 pointer-events-auto",children:[e.jsx("button",{type:"button",onClick:x=>{x.stopPropagation(),p(s)},className:"cursor-pointer rounded-lg bg-white p-2 text-slate-400 shadow-md ring-1 ring-slate-900/5 hover:text-emerald-600 hover:ring-emerald-500 transition-all",title:"ë³µì‚¬/ìˆ˜ì •",children:e.jsx(J,{className:"h-4 w-4"})}),e.jsx("button",{type:"button",onClick:x=>{x.stopPropagation(),console.log("Delete clicked for",s.id),window.confirm("ì •ë§ ì´ ë†ì§€ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ? ë³µêµ¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")&&_(s.id)},className:"cursor-pointer rounded-lg bg-white p-2 text-slate-400 shadow-md ring-1 ring-slate-900/5 hover:text-red-500 hover:ring-red-500 transition-all",title:"ì‚­ì œ",children:e.jsx(I,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{onClick:()=>p(s),className:"grid grid-cols-2 divide-x divide-slate-100 border-b border-slate-100 cursor-pointer",children:[e.jsxs("div",{className:"p-4 flex flex-col items-center justify-center text-center group-hover:bg-slate-50/30 transition-colors",children:[e.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] uppercase tracking-wider text-slate-400 font-bold mb-1",children:[e.jsx("div",{className:"p-1 rounded-md bg-blue-50 text-blue-500",children:e.jsx(U,{className:"h-3 w-3"})}),"ì´ ë©´ì "]}),e.jsxs("span",{className:"text-slate-700 font-bold text-lg mt-1",children:[Number(s.area).toLocaleString(),e.jsx("span",{className:"text-sm font-normal text-slate-400 ml-0.5",children:"í‰"})]})]}),e.jsxs("div",{className:"p-4 flex flex-col items-center justify-center text-center group-hover:bg-slate-50/30 transition-colors",children:[e.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] uppercase tracking-wider text-slate-400 font-bold mb-1",children:[e.jsx("div",{className:"p-1 rounded-md bg-purple-50 text-purple-500",children:e.jsx(H,{className:"h-3 w-3"})}),"ì‹œì„¤ í˜•íƒœ"]}),e.jsx("span",{className:"text-slate-700 font-bold block w-full truncate px-2 text-sm mt-1",children:te[s.facilityType]||s.facilityType})]})]}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-bold text-slate-500 uppercase",children:[e.jsx(G,{className:"h-3.5 w-3.5 text-slate-400"})," ì¬ë°° ë°©ì‹"]}),e.jsx("span",{className:"inline-flex items-center rounded-md bg-indigo-50 px-2.5 py-1 text-xs font-bold text-indigo-600 border border-indigo-100",children:ae[s.cultivationMethod]||s.cultivationMethod})]}),e.jsxs("div",{className:"space-y-3",children:[s.cultivationDetail&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 bg-slate-50/80 rounded-lg p-2.5 border border-slate-100",children:[e.jsx("span",{className:"h-1.5 w-1.5 flex-shrink-0 rounded-full bg-emerald-400"}),e.jsx("span",{className:"font-semibold text-xs text-slate-500 min-w-[30px]",children:"ìƒì„¸:"}),e.jsx("span",{className:"truncate font-medium text-slate-700",children:ne[s.cultivationDetail]||s.cultivationDetail})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.isMiniTunnel&&e.jsx("span",{className:"inline-flex items-center gap-1 rounded-full bg-amber-50 px-2.5 py-0.5 text-[11px] font-bold text-amber-600 border border-amber-100",children:"âœ¨ ë¯¸ë‹ˆ í„°ë„"}),s.hasGutter&&e.jsx("span",{className:"inline-flex items-center gap-1 rounded-full bg-cyan-50 px-2.5 py-0.5 text-[11px] font-bold text-cyan-600 border border-cyan-100",children:"ğŸ’§ ê±°í„° ì„¤ì¹˜"})]})]})]})]},s.id)}),d.length===0&&e.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center rounded-3xl border-2 border-dashed border-stone-200 bg-stone-50 py-16 text-center",children:[e.jsx("div",{className:"mb-4 rounded-full bg-white p-4 shadow-sm",children:e.jsx("span",{className:"text-4xl opacity-50 grayscale filter",children:"ğŸšœ"})}),e.jsx("h3",{className:"mb-2 text-lg font-bold text-stone-600",children:"ì•„ì§ ë“±ë¡ëœ ë†ì§€ê°€ ì—†ìŠµë‹ˆë‹¤"}),e.jsxs("p",{className:"mx-auto mb-6 max-w-sm text-sm text-stone-400",children:["'ìƒˆ ë†ì§€ ë“±ë¡' ë²„íŠ¼ì„ ëˆŒëŸ¬ ë‚˜ì˜ ì²« ë†ì§€ë¥¼ ë“±ë¡í•´ë³´ì„¸ìš”.",e.jsx("br",{}),"ë§ì¶¤í˜• ì˜ë† ì‹œë®¬ë ˆì´ì…˜ì„ ì‹œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."]}),e.jsx("button",{onClick:()=>a("/dashboard/farm-registration"),className:"rounded-lg bg-green-50 px-4 py-2 text-sm font-bold text-green-600 transition-colors hover:bg-green-100",children:"+ ì²« ë†ì§€ ë“±ë¡í•˜ê¸°"})]})]})]})};export{re as FieldDashboard};
