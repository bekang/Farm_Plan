# 사용자 매뉴얼
## Farm Calculator User Manual

---

## 📋 목차
1. [시작하기](#시작하기)
2. [기본 사용법](#기본-사용법)
3. [필지 관리](#필지-관리)
4. [작물 계획](#작물-계획)
5. [재무 관리](#재무-관리)
6. [데이터 분석](#데이터-분석)
7. [설정](#설정)
8. [문제 해결](#문제-해결)
9. [FAQ](#faq)

---

## 시작하기

### 시스템 요구사항

#### 최소 사양
- **OS**: Windows 10, macOS 10.15, Ubuntu 20.04 이상
- **Python**: 3.10 이상
- **RAM**: 4GB
- **저장공간**: 500MB

#### 권장 사양
- **OS**: Windows 11, macOS 13, Ubuntu 22.04
- **Python**: 3.11
- **RAM**: 8GB
- **저장공간**: 1GB
- **인터넷**: 안정적 연결 (API 사용 시)

---

### 설치 가이드

#### Step 1: Python 설치

##### Windows
```
1. https://www.python.org/downloads/ 방문
2. "Download Python 3.11" 클릭
3. 설치 시 "Add Python to PATH" 체크 ✅
4. Install Now 클릭
5. 설치 완료 후 cmd에서 확인:
   python --version
```

##### macOS
```bash
# Homebrew 사용
brew install python@3.11

# 확인
python3 --version
```

#### Step 2: 프로젝트 다운로드

```bash
# Git이 있는 경우
git clone https://github.com/your-repo/farm_calculator.git
cd farm_calculator

# Git이 없는 경우
# GitHub에서 "Code" -> "Download ZIP"
# 압축 해제 후 해당 폴더로 이동
```

#### Step 3: 초기 설정

##### Windows
```cmd
init_dev.bat
```

##### macOS/Linux
```bash
chmod +x init_dev.sh
./init_dev.sh
```

이 명령은 자동으로:
- ✅ 가상환경 생성
- ✅ 필요한 라이브러리 설치
- ✅ 데이터베이스 초기화
- ✅ 샘플 데이터 생성 (옵션)

#### Step 4: 실행

##### Windows
```cmd
run.bat
```

##### macOS/Linux
```bash
./run.sh
```

브라우저가 자동으로 열리며 `http://localhost:8501`에서 앱이 실행됩니다.

---

## 기본 사용법

### 화면 구성

```
┌─────────────────────────────────────────────────────────┐
│ [🌾 농업 수익 최적화 플래너]         [설정⚙️] [도움말❓] │ ← 헤더
├─────────────────────────────────────────────────────────┤
│ 좌측 사이드바     │        메인 콘텐츠 영역              │
│                   │                                      │
│ 🏠 홈             │  대시보드, 차트, 테이블 등           │
│ 🌾 필지 관리      │                                      │
│ 📅 작물 계획      │                                      │
│ 💰 재무 관리      │                                      │
│ 📊 데이터 분석    │                                      │
│ ⚙️ 설정           │                                      │
│                   │                                      │
└───────────────────┴──────────────────────────────────────┘
```

### 네비게이션

- **사이드바**: 좌측에서 메뉴 선택
- **메인 영역**: 선택한 페이지 내용 표시
- **버튼**: 마우스 클릭으로 작동
- **입력 필드**: 키보드로 입력

---

## 필지 관리

### 새 필지 등록하기

#### Step 1: 필지 관리 페이지 이동
```
좌측 사이드바 → 🌾 필지 관리 클릭
```

#### Step 2: 새 필지 추가
```
[+ 새 필지 추가] 버튼 클릭
```

#### Step 3: 정보 입력

##### 기본 정보
| 항목 | 설명 | 예시 |
|------|------|------|
| **필지 이름*** | 구분하기 쉬운 이름 | "토마토 하우스 1동" |
| **위치** | 주소 또는 지역 | "경기도 남양주시" |
| **면적*** | 제곱미터로 입력 | 600 (㎡) |
| **시설 유형*** | 4가지 중 선택 | "비닐하우스" |

> ℹ️ **Tip**: 면적 단위 변환
> - 1평 = 3.3㎡
> - 1아르 = 100㎡
> - 1헥타르 = 10,000㎡

##### 토양 정보 (선택)
| 항목 | 범위 | 설명 |
|------|------|------|
| **pH** | 0-14 | 산성도 (토마토: 6.0-6.5) |
| **EC** | ≥0 | 전기전도도 (염류 농도) |

#### Step 4: 저장
```
[저장] 버튼 클릭
→ 필지 목록에 추가됨
```

---

### 필지 편집하기

```
필지 카드에서 → [편집] 버튼 클릭
→ 정보 수정
→ [저장]
```

---

### 필지 삭제하기

```
필지 카드에서 → [삭제] 버튼 클릭
→ 확인 메시지 읽기
→ [확인] 클릭
```

> ⚠️ **주의**: 삭제 시 해당 필지의 모든 작물 계획도 함께 삭제됩니다!

---

## 작물 계획

### 시뮬레이션 실행하기

#### Step 1: 작물 계획 페이지
```
좌측 사이드바 → 📅 작물 계획 클릭
```

#### Step 2: 필지 선택
```
"필지 선택" 드롭다운 → 원하는 필지 선택
```

등록된 필지가 없다면:
```
→ "필지를 먼저 등록해주세요" 메시지
→ [필지 관리로 이동] 버튼 클릭
```

#### Step 3: 작물 검색
```
"작물 검색" 입력 창 → 작물명 입력 (예: "토마토")
```

##### 검색 결과 확인
- **작물 정보**: 이름, 재배일수, 수율
- **현재 시세**: 실시간 가격 정보 (API 연동)

#### Step 4: 파종 기간 설정
```
파종 시작일: [2026-03-01] (날짜 선택)
파종 종료일: [2026-05-31] (날짜 선택)
시나리오 수: [10개] (슬라이더)
```

> ℹ️ **Tip**: 시나리오 수가 많을수록 더 정밀하지만, 계산 시간이 길어집니다.

#### Step 5: 시뮬레이션 실행
```
[시뮬레이션 실행] 버튼 클릭
→ 계산 중... (10-30초)
→ 결과 표시
```

---

### 시뮬레이션 결과 해석

#### 결과 테이블
```
┌──────────┬──────────┬────────┬──────────┬────────────┐
│ 파종일   │ 수확일   │ 수율   │ 예상가격 │ 순수익     │
├──────────┼──────────┼────────┼──────────┼────────────┤
│ 3/15 ⭐  │ 6/25     │4,800kg │32,000원  │ 11,240천원 │
│ 3/01     │ 6/10     │4,500kg │28,000원  │  9,850천원 │
│ 4/01     │ 7/15     │5,000kg │30,000원  │ 10,500천원 │
└──────────┴──────────┴────────┴──────────┴────────────┘
```

#### 읽는 법
- **⭐**: 최적 시나리오 (순수익 최대)
- **파종일**: 추천 파종 날짜
- **수확일**: 예상 수확 날짜
- **수율**: 예상 생산량 (kg)
- **예상가격**: 수확 시기 예상 시세 (원/kg)
- **순수익**: 수익 - 비용 (원)

#### 상세 분석 보기
```
[📊 상세 분석 보기] 버튼 클릭
→ 가격 추이 차트
→ 월별 수익 그래프
→ 리스크 분석
```

---

### 계획으로 저장하기

#### 시나리오 선택
```
결과 테이블에서 원하는 행 클릭
→ [💾 계획으로 저장] 버튼 클릭
```

#### 확인 사항
- 선택한 파종일과 수확일이 맞는지 확인
- 다른 작물 계획과 일정이 겹치지 않는지 자동 검사

#### 저장 완료
```
→ "계획이 저장되었습니다" 메시지
→ 홈 대시보드의 Gantt Chart에 자동 추가
→ 작업 일정 자동 생성
```

---

## 재무 관리

### 예상 수익/비용 확인

#### 대시보드에서 확인
```
홈 → "연간 예상 순수익" 메트릭 카드
```

#### 상세 내역 보기
```
💰 재무 관리 페이지 → 작물 계획 선택
```

##### 수익 내역
```
예상 수율: 4,800 kg
예상 단가: 32,000 원/kg
───────────────────────────
예상 수익: 15,360,000 원
```

##### 비용 내역
```
종자비:      600,000 원
비료비:      800,000 원
농약비:      500,000 원
인건비:    1,200,000 원
광열비:      1,000,000 원
───────────────────────────
총 비용:   4,100,000 원
```

##### 손익
```
순수익: 11,260,000 원
ROI: 274.6%
```

---

### 실제 재무 기록 (수확 후)

#### Step 1: 계획 완료 처리
```
작물 계획 → [수확 완료] 버튼 클릭
```

#### Step 2: 실제 데이터 입력

##### 수확량
```
실제 수확량: [4,650] kg
판매 단가:   [31,500] 원/kg
```

##### 실제 비용
```
종자비:   [580,000] 원
비료비:   [820,000] 원
농약비:   [550,000] 원
인건비: [1,350,000] 원
광열비:   [980,000] 원
기타비:   [100,000] 원
```

#### Step 3: 저장 및 분석
```
[저장] 버튼 클릭
→ 실제 손익 계산
→ 예상 vs 실제 비교 차트
```

---

## 데이터 분석

### 가격 추이 분석

#### Step 1: 데이터 분석 페이지
```
📊 데이터 분석 → "가격 추이" 탭
```

#### Step 2: 작물 선택
```
작물 선택: [토마토 ▼]
기간 선택: [최근 5년 ▼]
```

#### Step 3: 차트 확인

##### 일별 가격 차트
- 파란선: 일별 가격
- 빨간선: 30일 이동평균
- 초록선: 5년 평균

##### 월별 박스 플롯
- 박스: 25%-75% 범위
- 선: 최소-최대
- 점: 평균

---

### 골든 타임 분석

#### 정의
> 과거 데이터 기반 최고 가격이 예상되는 수확 시기

#### 확인 방법
```
📊 데이터 분석 → "골든 타임" 탭
→ 작물 선택
→ 결과 확인
```

#### 결과 예시
```
🏆 토마토 골든 타임

최적 수확월: 6월
평균 가격: 32,000 원/kg
최고 가격: 38,000 원/kg
신뢰도: 85%

💡 추천: 5월 말 수확 시 최고 수익 예상
```

---

### 작물 비교

#### 여러 작물 수익성 비교
```
📊 데이터 분석 → "작물 비교" 탭
→ 비교할 작물 최대 5개 선택
→ [비교하기] 버튼
```

#### 비교 항목
- 평균 수율 (kg/㎡)
- 재배일수
- 평균 수익
- ROI
- 가격 변동성

---

## 설정

### API 키 설정

#### 필요한 API
1. **기상청 API** (날씨 예보)
2. **KAMIS API** (가격 정보)
3. **농진청 API** (토양 정보)

#### 설정 방법
```
⚙️ 설정 → "API 설정" 탭
→ 각 API 키 입력
→ [테스트] 버튼으로 확인
→ [저장]
```

#### API 키 발급
- **기상청**: https://www.data.go.kr (공공데이터포털)
- **KAMIS**: https://www.kamis.or.kr
- **농진청**: https://www.rda.go.kr

---

### 데이터 백업

#### 자동 백업
```
⚙️ 설정 → "데이터 관리" 탭
→ "자동 백업 활성화" 체크
→ 백업 주기: [매일 ▼]
```

#### 수동 백업
```
⚙️ 설정 → "데이터 관리" 탭
→ [지금 백업하기] 버튼
→ 백업 파일 저장 위치 선택
```

#### 복원
```
⚙️ 설정 → "데이터 관리" 탭
→ [백업에서 복원] 버튼
→ 백업 파일 선택
→ [복원] 확인
```

---

## 문제 해결

### 앱이 실행되지 않아요

#### 증상
```
'python'은(는) 내부 또는 외부 명령, 실행할 수 있는 프로그램...
```

#### 해결
1. Python이 설치되었는지 확인
   ```cmd
   python --version
   ```
2. PATH에 등록되었는지 확인
   - 제어판 → 시스템 → 환경변수
   - Path에 Python 경로 추가
3. 새 명령 프롬프트 열기

---

### 가격 데이터가 표시되지 않아요

#### 원인
- API 키 미설정
- 인터넷 연결 불량
- API 서비스 장애

#### 해결
1. API 키 확인
   ```
   ⚙️ 설정 → API 설정 → [테스트]
   ```
2. 인터넷 연결 확인
3. 캐시 데이터 사용
   - 최근 24시간 데이터는 캐시에서 로드

---

### 시뮬레이션이 너무 느려요

#### 원인
- 시나리오 수가 너무 많음
- 오래된 컴퓨터
- 백그라운드 프로그램

#### 해결
1. 시나리오 수 줄이기 (10개 권장)
2. 다른 프로그램 종료
3. 캐시 클리어
   ```
   ⚙️ 설정 → 데이터 관리 → [캐시 삭제]
   ```

---

### 데이터베이스 오류

#### 증상
```
sqlite3.OperationalError: database is locked
```

#### 해결
```cmd
# 앱 완전 종료
Ctrl + C

# 데이터베이스 재초기화
venv\Scripts\python backend\scripts\init_db.py

# 재실행
run.bat
```

---

## FAQ

### Q1: 오프라인에서도 사용할 수 있나요?
**A**: 네! 기본 기능은 오프라인에서 사용 가능합니다.
- ✅ 필지 관리
- ✅ 계획 생성 (캐시된 가격 데이터 사용)
- ✅ 재무 기록
- ❌ 실시간 가격 조회
- ❌ 날씨 정보

---

### Q2: 여러 작물을 동시에 재배하는 경우는?
**A**: 각 작물을 별도 계획으로 등록하세요.
```
필지A → 토마토 계획 (3월-6월)
필지A → 상추 계획 (7월-9월)  ← 일정 겹치지 않음
```

일정이 겹치면 자동으로 경고합니다.

---

### Q3: 예측이 정확하지 않아요
**A**: 가격 예측은 과거 데이터 기반이므로 100% 정확할 수 없습니다.
- 신뢰도 지표 확인 (60% 이상 권장)
- 여러 시나리오 비교
- 실제 데이터 기록으로 모델 개선

---

### Q4: 데이터를 Excel로 내보낼 수 있나요?
**A**: 네, 가능합니다.
```
💰 재무 관리 → [Excel로 내보내기] 버튼
→ 저장 위치 선택
→ .xlsx 파일 생성
```

---

### Q5: 모바일에서도 사용할 수 있나요?
**A**: 현재는 PC 브라우저 최적화되어 있습니다.
- 모바일 브라우저에서 접속 가능
- UI가 작을 수 있음
- v2.0에서 모바일 최적화 예정

---

### Q6: 여러 농장을 관리할 수 있나요?
**A**: 현재는 단일 농장 기준입니다.
- 필지는 무제한 등록 가능
- 여러 농장 = 여러 프로젝트 폴더 사용
- Enterprise 버전에서 다중 농장 지원 예정

---

## 단축키

### 일반
- `F5`: 페이지 새로고침
- `Ctrl + S`: 데이터 저장 (일부 폼)
- `Esc`: 모달 닫기

### 네비게이션
- `Alt + 1`: 홈
- `Alt + 2`: 필지 관리
- `Alt + 3`: 작물 계획
- `Alt + 4`: 재무 관리
- `Alt + 5`: 데이터 분석

---

## 팁과 모범 사례

### 🎯 Best Practices

#### 1. 정기적인 데이터 업데이트
```
매주 월요일: 가격 데이터 수집
매월 1일: 계획 검토 및 수정
수확 후: 실제 재무 기록 입력
```

#### 2. 백업 습관
```
작업 후: 수동 백업
매주: 자동 백업 확인
매월: 외부 저장소 백업
```

#### 3. 시뮬레이션 팁
```
✅ 최소 3개 이상 시나리오 비교
✅ 신뢰도 60% 이상 시나리오 선택
✅ 날씨 리스크 고려
❌ 100% 최고 수익만 추구하지 말기
```

---

## 업데이트 노트

### v1.0.0 (2026-01-01)
- ✨ 초기 출시
- 필지 관리
- 작물 계획 시뮬레이션
- 재무 분석
- 가격 데이터 연동

### 예정 기능 (v1.1.0)
- 📱 모바일 최적화
- 🔔 작업 일정 알림
- 📊 고급 분석 대시보드
- 🌐 다국어 지원 (영어)

---

## 지원

### 문의
- **이메일**: support@farmcalculator.com
- **커뮤니티**: https://community.farmcalculator.com
- **GitHub**: https://github.com/your-repo/farm_calculator

### 문서
- **개발자 가이드**: [DEV_GUIDE.md](file:///Z:/test/test06/farm_calculator/DEV_GUIDE.md)
- **API 문서**: https://docs.farmcalculator.com

---

**문서 버전**: 1.0  
**작성일**: 2026-01-01  
**최종 수정**: 2026-01-01
